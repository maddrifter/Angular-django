<div class="modal-header card-modal epic-modal-header">
    <button type="button" class="close"  ng-click="$dismiss('canceled')"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

    <h4 ng-if="incrementSchedule.id == -1">New {{::$root.safeTerms.children.time_period_name}}</h4>
    <h4 ng-if="incrementSchedule.id != -1">Edit {{::$root.safeTerms.children.time_period_name}}</h4>

</div>

<div class="modal-body card-modal">

    <form name="iterationForm">
        <div ng-show="!ctrl.busyMode" class="row">
 
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="scrumdo-control-label card-popup">Name</label>
                    <input ng-required="true" type="text" ng-change="ctrl.checkDates()" class="scrumdo-form" ng-model="incrementSchedule.default_name" />
                </div>
            </div>

            <div class="col-sm-12">
                <div class="form-group">  
                    <label class="scrumdo-control-label card-popup">Start</label>
                    <sd-date-picker ng-model="incrementSchedule.start_date" ng-change="ctrl.checkDates()"></sd-date-picker>
                </div>
            </div>



            <div class="col-sm-12">
                <div class="form-group">
                    <label class="scrumdo-control-label card-popup">End</label>
                    <sd-date-picker ng-model="incrementSchedule.end_date" ng-change="ctrl.checkDates()"></sd-date-picker>
                </div>
            </div>

        </div>
    </form>

    <div ng-if="ctrl.busyMode" class="busy-mode">
        <div class="progress progress-striped active">
            <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                Working...
            </div>
        </div>
    </div>

    <hr/>

    <button ng-if="(incrementSchedule.id != -1)" ng-click="ctrl.deleteIncrementSchedule()" type="button" class="scrumdo-btn primary">
        <span class="scrumdo-icons bin"></span> Delete</button>
    <button ng-class="{disabled:!ctrl.validDate}" ng-if="iterationForm.$valid && iterationForm.$dirty && !ctrl.busyMode"
            type="button"
            class="delete-button scrumdo-btn secondary pull-right"
            ng-click="ctrl.save()" >Save</button>
</div>

