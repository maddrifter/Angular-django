<form name="projectSettingsForm" ng-controller="ProjectSettingsController">

    <div class="scrumdo-account-details">
        <button ng-click="ctrl.save()" ng-disabled="ctrl.project.prefix.length < 2" class="scrumdo-btn secondary pull-right">Save</button>
        <h2 class="scrumdo-account-details-title">Workspace Settings</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="#" class="scrumdo-control-label primary">Workspace Name</label>
                        <input type="text" class="scrumdo-form primary" ng-model="ctrl.project.name" minlength="1" required/>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="#" class="scrumdo-control-label primary">Workspace Prefix</label>
                        <input type="text" capitalize alpha-numbers-only class="scrumdo-form primary compact" ng-model="ctrl.project.prefix" 
                            ng-change="ctrl.prefix_error=null" maxlength="2" ng-required="required" />
                        <div ng-if="ctrl.project.prefix.length < 2" class="alert alert-danger">
                            Workspace prefix is required and must have two letters!
                        </div>
                        <div ng-if="ctrl.prefix_error" class="alert alert-danger" ng-bind-html="ctrl.prefix_error">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2">
                    <div class="form-group">
                        <label for="#" class="scrumdo-control-label primary">Workspace Icon</label>
                        <div uib-dropdown dropdown-append-to-body="true">
                            <i class="fa project-icon" ng-class="ctrl.project.icon"  style="color: {{ctrl.projectHexColor}}"  uib-dropdown-toggle></i>
                            <ul class="dropdown-menu icon-dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-folder')"><i class="icon-menu-item fa fa-folder"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-server')"><i class="icon-menu-item fa fa-server"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-bullseye')"><i class="icon-menu-item fa fa-bullseye"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-users')"><i class="icon-menu-item fa fa-users"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-bank')"><i class="icon-menu-item fa fa-bank"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-user')"><i class="icon-menu-item fa fa-user"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-book')"><i class="icon-menu-item fa fa-book"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-bookmark')"><i class="icon-menu-item fa fa-bookmark"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-bug')"><i class="icon-menu-item fa fa-bug"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-building')"><i class="icon-menu-item fa fa-building"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-calendar')"><i class="icon-menu-item fa fa-calendar"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-cloud')"><i class="icon-menu-item fa fa-cloud"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-comment')"><i class="icon-menu-item fa fa-comment"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-cube')"><i class="icon-menu-item fa fa-cube"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-diamond')"><i class="icon-menu-item fa fa-diamond"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-exchange')"><i class="icon-menu-item fa fa-exchange"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-feed')"><i class="icon-menu-item fa fa-feed"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-industry')"><i class="icon-menu-item fa fa-industry"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-random')"><i class="icon-menu-item fa fa-random"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-ship')"><i class="icon-menu-item fa fa-ship"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-sitemap')"><i class="icon-menu-item fa fa-sitemap"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-tasks')"><i class="icon-menu-item fa fa-tasks"></i></a></li>
                                <li role="menuitem"><a ng-click="ctrl.setIcon('fa-user-secret')"><i class="icon-menu-item fa fa-user-secret"></i></a></li>
                            </ul>
                         </div>
                     </div>
                 </div>
            </div>
            <div class="row">
                <div class="col-sm-2">
                    <label for="#" class="scrumdo-control-label primary">Workspace Color</label>
                </div>
            </div>
            <div class=""row">
                 <div class="form-group">
                    <spectrum-colorpicker
                            ng-model="ctrl.projectHexColor"
                            ng-change="ctrl.setColor(ctrl.projectHexColor)"
                            options="{
                                        showPalette: true,
                                        preferredFormat: 'hex',
                                        palette: colorPalette,
                                        clickoutFiresChange: true,
                                        hideAfterPaletteSelect: true,
                                        showButtons: false,

                                      }">
                   </spectrum-colorpicker>
                </div>
             </div>
        </div>
    </div>

    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Workspace Features</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">
                         Enable/disable the various Features/Tabs for workspace.
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="action-3 scrumdo-checkbox default col-md-12">
                            <label for="tabTimeline">Timeline:</label>
                            <input class="pull-right" type="checkbox" id="tabTimeline" ng-model="ctrl.project.tab_timeline">
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="action-3 scrumdo-checkbox default col-md-12">
                            <label for="tabSummary">Summary:</label>
                            <input class="pull-right" type="checkbox" id="tabSummary" ng-model="ctrl.project.tab_summary">
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="action-3 scrumdo-checkbox default col-md-12">
                            <label for="tabCardList">Board:</label>
                            <input class="pull-right" type="checkbox" id="tabCardList" ng-model="ctrl.project.tab_board">
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="action-3 scrumdo-checkbox default col-md-12">
                            <label for="tabChat">Chat:</label>
                            <input class="pull-right" type="checkbox" id="tabChat" ng-model="ctrl.project.tab_chat">
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="action-3 scrumdo-checkbox default col-md-12">
                            <label for="tabPlanning">Planning:</label>
                            <input class="pull-right" type="checkbox" id="tabPlanning" ng-model="ctrl.project.tab_planning">
                        </label>
                    </div>

                    <div ng-if="ctrl.project.children_count>0">
                        <div class="form-group">
                            <label class="action-3 scrumdo-checkbox default col-md-12">
                                <label for="tabRisks">Risks:</label>
                                <input class="pull-right" type="checkbox" id="tabRisks" ng-model="ctrl.project.tab_risks">
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="action-3 scrumdo-checkbox default col-md-12">
                                <label for="tabTeamPlanning">Team Planning:</label>
                                <input class="pull-right" type="checkbox" id="tabTeamPlanning" ng-model="ctrl.project.tab_teamplanning">
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="action-3 scrumdo-checkbox default col-md-12">
                                <label for="tabDependencies">Dependencies:</label>
                                <input class="pull-right" type="checkbox" id="tabDependencies" ng-model="ctrl.project.tab_dependencies">
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="action-3 scrumdo-checkbox default col-md-12">
                                <label for="tabMilestones">Simplified Releases View:</label>
                                <input class="pull-right" type="checkbox" id="tabMilestones" ng-model="ctrl.project.tab_milestones">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Point Scale</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">
                        If you estimate cards in points, select the point scale to use when sizing cards.
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 custom-point-scales">
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="4">
                            <strong>Fibonacci:</strong> ?, 0, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, Infinity
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="0">
                            <strong>Modified Fibonacci:</strong> ?, 0, 0.5, 1, 2, 3, 5, 8, 13, 20, 40, 100, Infinity
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="1">
                            <strong>Simplified:</strong> 0, 1, 2, 3, 4, 5
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="2">
                            <strong>Natural:</strong> ?, 0, 0.25, 0.5, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 15, 25, 50, 100, Infinity
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="5">
                            <strong>Exponential:</strong> 1, 2, 4, 8, 16, 32, 64
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="3">
                            <strong>Shirt Sizes:</strong> ?,XS, S, M, L, XL
                        </label>
                    </div>
                    
                    <div class="form-group" ng-if="ctrl.customPointScales" ng-repeat="scale in ctrl.customPointScales">
                        <div class="row">
                            <div class="col-md-9" ng-if="!scale.editMode">
                                <label class="scrumdo-control-label tertiary">
                                    <input type="radio" ng-model="ctrl.project.point_scale_type" name="optionsRadios" value="{{scale.id+5}}">
                                    <span ng-repeat="s in scale.scale_value">{{$first ? '' : ', '}}{{s[1]}}</span>
                                </label>
                            </div>
                            <div class="col-md-12" ng-if="scale.editMode">
                                <div>
                                    <div class="custom-point label">
                                        <label class="scrumdo-control-label tertiary"><strong>Point Value:</strong></label>
                                        <label class="scrumdo-control-label tertiary"><strong>Display:</strong></label>
                                    </div>
                                </div>
                                <div class="scale-values">
                                    <div class="custom-point" ng-repeat="s in scale.scale_value">
                                        <input autocomplete="off" ng-blur="ctrl.validateValue(scale, s)" ng-change="ctrl.onPointScaleChange(scale, s)" ng-model="s[0]" class="" type="text" name="point-value" value={{s[0]}} />
                                        <input autocomplete="off" class="" ng-model="s[1]" ng-blur="ctrl.onPointLabelChange(scale, s)" type="text" name="point-label" value={{s[1]}} />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3" ng-if="!scale.editMode">
                                <button ng-click="ctrl.editPointScale(scale)" class="scrumdo-btn primary">
                                    <i class="glyphicon glyphicon-pencil"></i>
                                </button>
                                <button ng-if="(scale.id+5) != (ctrl.project.point_scale_type)" ng-click="ctrl.deletePointScale(scale)" class="scrumdo-btn primary">
                                    <i class="glyphicon glyphicon-trash"></i>
                                </button>
                            </div>
                            <div class="col-md-10" ng-if="scale.editMode">
                                <div class="alert alert-info" ng-class="{'alert-danger':!scale.isValid}">
                                    Accepted Point Value: [?, 0, numeric-values, Infinity] <em>(should have minimum 2 point values)</em>
                                </div>
                                <div ng-if="scale.error" class="alert alert-danger">
                                        {{scale.error}}
                                </div>
                                <button ng-class="{disabled:!ctrl.validateScale(scale)}" ng-click="ctrl.savePointScale(scale)" class="scrumdo-btn primary">
                                    Save
                                </button>
                                 <button ng-click="ctrl.cancelPointScale(scale)" class="scrumdo-btn primary">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" ng-if="!ctrl.customPointScales">
                        <div class="progress progress-striped active">
                            <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                loading...
                            </div>
                        </div>
                    </div>
                    
                    <div ng-if="ctrl.customPointScales.length < 25 && !ctrl.isEditingPointScale()" class="col-md-12">
                        <a ng-click="ctrl.addPointScale()">Add New Point Scale</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Render Mode</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">
                        How do you want the board to behave when there are too many cards to view at once?
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.render_mode" name="renderModeRadios" value="0">
                            <strong>Fluid</strong> Cells grow in height to accomodate cards.
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="scrumdo-control-label tertiary">
                            <input type="radio" ng-model="ctrl.project.render_mode" name="renderModeRadios" value="1">
                            <strong>Fixed</strong> Cells have scroll bars.
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Sub Task Statuses</h2>
        <div class="row">
            <div class="col-md-12">
                <p class="scrumdo-account-details-p">
                    Each card can have tasks associated with it, these are the statuses those
                    tasks can have.
                </p>
            </div>
        </div>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-1 bigger squar-bordered">Status #1</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" required ng-model="ctrl.project.task_statuses[0]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    Represents a task that is not yet started. It is often named TODO.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-2 bigger squar-bordered">Status #2</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[1]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-3 bigger squar-bordered">Status #3</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[2]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-4 bigger squar-bordered">Status #4</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[3]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-5 bigger squar-bordered">Status #5</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[4]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-6 bigger squar-bordered">Status #6</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[5]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-7 bigger squar-bordered">Status #7</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[6]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-8 bigger squar-bordered">Status #8</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[7]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-9 bigger squar-bordered">Status #9</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" ng-model="ctrl.project.task_statuses[8]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    (optional)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-2">
                                <span class="labels status-bg-10 bigger squar-bordered">Status #10</span>
                            </div>
                            <div class="col-md-4">
                                <input maxlength="10" required ng-model="ctrl.project.task_statuses[9]" type="text" class="scrumdo-form primary">
                            </div>
                            <div class="col-md-6">
                                <p class="scrumdo-account-details-p margin-5">
                                    Represents a task that is completed. It is often named Done or Deployed
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Card Aging</h2>
        <div class="row">
            <div class="col-md-12">
                <p class="scrumdo-account-details-p">
                    Card aging is displayed on the front of a card, a small visual display of how long the card has spent in progress.
                </p>
            </div>
        </div>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-7">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10">
                                <label class="action-3 scrumdo-checkbox default">
                                    <label for="showagingdisplay">Always show aging display on cards:</label>
                                    <input type="checkbox" id="showagingdisplay" ng-model="ctrl.project.aging_display">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="scrumdo-control-label secondary">Warning threshold (in days):</label>
                            </div>
                            <div class="col-md-6">
                                <input name="warning_threshold" autocomplete="off" numbers-only ng-model="ctrl.project.warning_threshold" 
                                    ng-blur="ctrl.validateThresholdValues('warning')" type="text" maxlength="3" 
                                    class="scrumdo-form primary compact"/>
                            </div>
                        </div>
                    </div>
                    <div ng-if="!ctrl.validThresholdValues()" class="scrumdo-alert alert-danger slick">
                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> must be less then critical threshold
                    </div>
                    <div ng-if="ctrl.agingRecommendedValues.warning" class="scrumdo-alert alert-info slick">
                        <i class="fa fa-info-circle" aria-hidden="true"></i> Recommended: 65th percentile of your lead time: 
                            <strong>{{::ctrl.agingRecommendedValues.warning}} days</strong>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="scrumdo-control-label secondary">Critical threshold (in days):</label>
                            </div>
                            <div class="col-md-6">
                                <input name="critical_threshold" autocomplete="off" numbers-only ng-model="ctrl.project.critical_threshold" 
                                    ng-blur="ctrl.validateThresholdValues('critical')" type="text" maxlength="3" 
                                    class="scrumdo-form primary compact"/>
                            </div>
                        </div>
                    </div>
                    <div ng-if="!ctrl.validThresholdValues()" class="scrumdo-alert alert-danger slick">
                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> must be greater then warning threshold
                    </div>
                    <div ng-if="ctrl.agingRecommendedValues.critical" class="scrumdo-alert alert-info slick">
                        <i class="fa fa-info-circle" aria-hidden="true"></i> Recommended: 85th percentile of your lead time: 
                            <strong>{{::ctrl.agingRecommendedValues.critical}} days</strong>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Due Date Warning Threshold</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">
                        It signifies the number of days before it start generating a risk for a card with a due date isn't done.
                    </p>
                </div>
            </div>
        </div>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-7">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="scrumdo-control-label secondary">Warning threshold (in days):</label>
                            </div>
                            <div class="col-md-6">
                                <input name="warning_threshold" autocomplete="off" numbers-only ng-model="ctrl.project.duedate_warning_threshold" 
                                    ng-blur="ctrl.validateDuedateThreshold()" type="text" maxlength="3" 
                                    class="scrumdo-form primary compact"/>
                            </div>
                        </div>
                    </div>
                    <div ng-if="ctrl.project.duedate_warning_threshold == null" class="scrumdo-alert alert-danger slick">
                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> warning threshold must not be empty
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Velocity Calculations</h2>
        <div class="scrumdo-account-details-content">
            <div class="scrumdo-account-details-content">
                <div class="row">
                    <div class="col-md-12">
                        <p class="scrumdo-account-details-p">
                            Choose how to calculate the workspace’s velocity.
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="scrumdo-control-label tertiary">
                                <input ng-model="ctrl.project.velocity_type" type="radio" name="velRadio" value="0">
                                <strong>Full Average</strong> Average all of your iterations.
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="scrumdo-control-label tertiary">
                                <input ng-model="ctrl.project.velocity_type" type="radio" name="velRadio" value="3">
                                <strong>Average Last 3</strong> Average your 3 most recent iterations.
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="scrumdo-control-label tertiary">
                                <input ng-model="ctrl.project.velocity_type" type="radio" name="velRadio" value="1">
                                <strong>Average Last 5</strong> Average your 5 most recent iterations.
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="scrumdo-control-label tertiary">
                                <input ng-model="ctrl.project.velocity_type" type="radio" name="velRadio" value="2">
                                <strong>Median Uses</strong> the median velocity of all iterations.
                            </label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <p class="scrumdo-account-details-p italic">
                            All of these methods ignore iterations if their “Include in velocity
                            calculations” check box is not enabled.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Default Cell</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">What cell should a card be put into by default if none is specified?</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <sd-cell-select cells="boardProject.boardCells"
                                    headers="boardProject.boardHeaders"
                                    cell-id="ctrl.project.default_cell_id">
                    </sd-cell-select>
                </div>
            </div>

        </div>
    </div>


    <div class="scrumdo-account-details">
        <h2 class="scrumdo-account-details-title">Workspace Category</h2>
        <div class="scrumdo-account-details-content">
            <div class="row">
                <div class="col-md-12">
                    <p class="scrumdo-account-details-p">Enter a category to group this workspace on the organization page.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-3 text-right">
                            <label for="#" class="scrumdo-control-label primary margin-5">Workspace Category</label>
                        </div>
                        <div class="col-md-6">
                            <input ng-model="ctrl.project.category" type="text" class="scrumdo-form primary"/>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <button ng-click="ctrl.save()" ng-disabled="ctrl.project.prefix.length < 2" class="scrumdo-btn secondary pull-right">Save</button>
            </div>
        </div>
    </div>
</form>
