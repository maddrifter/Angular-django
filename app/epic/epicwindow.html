<div class="modal-header card-modal epic-modal-header">
    <button type="button" class="close"  ng-click="$dismiss('canceled')">
        <span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

    <button ng-if="epic.id != -1" ng-click="ctrl.deleteEpic()" type="button" class="scrumdo-btn primary">
        <span class="scrumdo-icons bin"></span> Delete</button>

    <button ng-if="epicForm.$valid && epicForm.$dirty && !busyMode" type="button" 
        class="delete-button scrumdo-btn btn-success pull-right" ng-click="ctrl.save()" >Save</button>

    <h4 ng-if="epic.id == -1">New Collection</h4>
    <h4 class="pull-left" ng-if="epic.id != -1">Collection #{{epic.number}}</h4>

</div>

<div class="modal-body card-modal epic-modal-body">

    <form name="epicForm">
    <div ng-show="!busyMode" class="row">
        <div class="col-sm-12">
            <div class="form-group">
                <label class="scrumdo-control-label card-popup">Summary</label>
                <textarea autofocus
                          rows="2"
                          class="scrumdo-form textarea editor"
                          name="summary"
                          ng-required="true"
                          ng-minlength="2"
                          ng-model="epic.summary"></textarea>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label class="scrumdo-control-label card-popup">Points</label>
                <input type="text" class="scrumdo-form" ng-model="epic.points" />
            </div>
        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label class="scrumdo-control-label card-popup">Parent</label>
                <sd-epic-select ng-model="ctrl.parent" epic="epic" epics="epics"></sd-epic-select>
            </div>
        </div>

        <div class="col-sm-6" ng-if="project.parents.length > 0">
            <div class="form-group">
                <label class="scrumdo-control-label card-popup">Release</label>
                <sd-release-picker
                    release="epic.release"
                    project="ctrl.project"></sd-release-picker>
            </div>
        </div>



        <div class="col-sm-12">
            <div class="form-group">
                <label class="scrumdo-control-label card-popup">Detail</label>
                <textarea rows="18" class="scrumdo-form textarea editor" ng-model="epic.detail"></textarea>
            </div>
        </div>

        <div class="col-sm-12">
            <div class="checkbox">
                <label>
                    <input ng-model="epic.archived" type="checkbox"> Archived
                </label>
            </div>

        </div>

    </div>
    </form>

    <div ng-if="busyMode" class="busy-mode">
        <div class="progress progress-striped active">
            <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                Working...
            </div>
        </div>
    </div>


</div>

